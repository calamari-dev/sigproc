\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{sigproc-indexsymbol}[2022/11/01 sigproc-indexsymbol]

\RequirePackage{luacode}

\begin{luacode*}
symboltable = {}
currentorder = 0

function printSymbolIndex(symbol)
  if (symboltable[symbol] == nil) then
    currentorder = currentorder + 1
    symboltable[symbol] = currentorder
  end

  local order = string.format("%03d", symboltable[symbol])
  tex.sprint("\\index{"..order.."@"..symbol.."}")
end
\end{luacode*}

\newcommand{\indexsymbol}[1]{\directlua{printSymbolIndex(\luastringN{#1})}}
